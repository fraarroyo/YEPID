{% extends "base.html" %}

{% block title %}Analytics & Reports - SAN AGUSTIN YEP ID{% endblock %}

{% block content %}
<div class="page-header">
    <h2>Analytics & Reports</h2>
    <p>Comprehensive system statistics and analytics</p>
</div>

<div class="stats-grid">
    <div class="stat-card">
        <div class="stat-icon">ğŸ‘¥</div>
        <div class="stat-content">
            <h3>{{ stats.total_users }}</h3>
            <p>Total Registrations</p>
        </div>
    </div>
    <div class="stat-card">
        <div class="stat-icon">ğŸ“…</div>
        <div class="stat-content">
            <h3>{{ stats.total_events }}</h3>
            <p>Total Events</p>
        </div>
    </div>
    <div class="stat-card">
        <div class="stat-icon">âœ…</div>
        <div class="stat-content">
            <h3>{{ stats.total_attendance }}</h3>
            <p>Total Attendance Records</p>
        </div>
    </div>
    <div class="stat-card">
        <div class="stat-icon">ğŸ†</div>
        <div class="stat-content">
            <h3>{{ stats.total_points }}</h3>
            <p>Total Points Distributed</p>
        </div>
    </div>
    <div class="stat-card">
        <div class="stat-icon">ğŸ“Š</div>
        <div class="stat-content">
            <h3>{{ stats.avg_attendance }}</h3>
            <p>Avg Attendance per Event</p>
        </div>
    </div>
    <div class="stat-card">
        <div class="stat-icon">ğŸ†•</div>
        <div class="stat-content">
            <h3>{{ stats.recent_registrations }}</h3>
            <p>New Registrations (7 days)</p>
        </div>
    </div>
</div>

<div class="card-grid" style="margin-top: 2rem;">
    <div class="card">
        <h3>Demographic Reports</h3>
        <p>View detailed demographic breakdowns by age group, zone, classification, and more.</p>
        <a href="{{ url_for('demographics_report') }}" class="btn btn-primary">View Demographics</a>
    </div>
    
    <div class="card">
        <h3>Event Analytics</h3>
        <p>Analyze event performance, attendance trends, and participation rates.</p>
        <a href="{{ url_for('events_analytics') }}" class="btn btn-primary">View Event Analytics</a>
    </div>
</div>

<div class="card" style="margin-top: 2rem;">
    <h3>Quick Statistics</h3>
    <div class="table-container">
        <table class="persons-table">
            <thead>
                <tr>
                    <th>Metric</th>
                    <th>Value</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Active Events (Upcoming)</td>
                    <td><strong>{{ stats.active_events }}</strong></td>
                </tr>
                <tr>
                    <td>Total Users</td>
                    <td><strong>{{ stats.total_users }}</strong></td>
                </tr>
                <tr>
                    <td>Total Events</td>
                    <td><strong>{{ stats.total_events }}</strong></td>
                </tr>
                <tr>
                    <td>Total Attendance Records</td>
                    <td><strong>{{ stats.total_attendance }}</strong></td>
                </tr>
                <tr>
                    <td>Total Points Distributed</td>
                    <td><strong>{{ stats.total_points }}</strong></td>
                </tr>
                <tr>
                    <td>Average Attendance per Event</td>
                    <td><strong>{{ stats.avg_attendance }}</strong></td>
                </tr>
                <tr>
                    <td>Recent Registrations (Last 7 Days)</td>
                    <td><strong>{{ stats.recent_registrations }}</strong></td>
                </tr>
            </tbody>
        </table>
    </div>
</div>
{% endblock %}

